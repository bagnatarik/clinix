<app-data-table-component
  [columns]="columns"
  [data]="dataSource"
  [tableName]="'Prescriptions'"
  [newButtonLabel]="'Nouvelle prescription'"
  [showNewButton]="false"
  [showViewButton]="false"
  [showEditButton]="false"
  (onNew)="addNew()"
  (onView)="viewDetails($event)"
  (onDelete)="delete($event)"
  (onRefresh)="refresh()"
></app-data-table-component>

@if (showDeleteModal) {
<div class="fixed inset-0 z-50 flex items-center justify-center">
  <div class="absolute inset-0 bg-black/30" (click)="cancelDelete()"></div>
  <div class="relative bg-white border border-neutral-300 rounded-lg shadow-lg w-full max-w-md p-6">
    <div class="flex items-center justify-between mb-4">
      <h3 class="text-lg font-semibold text-gray-800">Confirmation</h3>
      <button
        type="button"
        class="text-neutral-500 hover:text-neutral-700"
        (click)="cancelDelete()"
      >
        âœ•
      </button>
    </div>
    <div class="text-sm text-gray-700">
      <p>
        Voulez-vous vraiment supprimer la prescription
        <strong>#{{ deleteTarget?.id }}</strong> ?
      </p>
    </div>
    <div class="flex items-center justify-end gap-2 pt-4">
      <button type="button" class="px-3 py-1.5 text-xs rounded border" (click)="cancelDelete()">
        Annuler
      </button>
      <button
        type="button"
        class="px-3 py-1.5 text-xs rounded bg-red-600 text-white hover:bg-red-700"
        (click)="confirmDelete()"
      >
        Supprimer
      </button>
    </div>
  </div>
</div>
}
